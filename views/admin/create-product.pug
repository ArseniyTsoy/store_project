doctype html 
html(lang="ru")
  head 
    include ../includes/admin-head
  body 
    include ../includes/admin-navigation

    section.add-products

      h1.title Добавьте новый товар

      form(action="/admin/create-product", method="POST", enctype="multipart/form-data", novalidate)

        div.flex

          div.inputBox

            if (errors.title)
              input.invalid(type="text", name="title", required, placeholder="Наименование товара", value=oldInput.title)
              span.error-message #{errors.title.msg}
            else
              input.box(type="text", name="title", required, placeholder="Наименование товара", value=(hasError ? oldInput.title : ""))

            select(class=(errors.categoryId ? "invalid" : "box"), name="categoryId", required)
              option(value="", selected, disabled) Выберите категорию
              each cat in categories
                option(value=cat.id) #{cat.title}
            if (errors.categoryId)
              span.error-message #{errors.categoryId.msg}
          
          div.inputBox

            if (errors.price)
              input.invalid(type="number", step="0.01", min="0", name="price", required, placeholder="Стоимость товара", value=oldInput.price)
              span.error-message #{errors.price.msg}
            else
              input.box(type="number", step="0.01", min="0", name="price", required, placeholder="Стоимость товара", value=(hasError ? oldInput.price : ""))

            input(type="hidden", name="validateImage", value="Добавьте изображение")

            if (errors.validateImage)
              input.invalid(type="file", name="image", required)
              span.error-message #{errors.validateImage.msg}
            else
              input.box(type="file", name="image", required)

        if (errors.description)
          textarea.invalid(name="description", required, placeholder="Краткое описание товара", cols="30", rows="10") #{oldInput.description}
          span.error-message #{errors.description.msg}
        else
          textarea.box(name="description", required, placeholder="Краткое описание товара", cols="30", rows="10") #{hasError ? oldInput.description : ""}

        input(type="hidden", name="_csrf", value=csrfToken)
        input.btn(type="submit", value="Создать")

    script(src="/js/script.js")